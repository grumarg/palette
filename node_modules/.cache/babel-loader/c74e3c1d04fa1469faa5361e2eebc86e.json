{"ast":null,"code":"var _jsxFileName = \"D:\\\\Study\\\\\\u0411\\u0440\\u0413\\u0423\\\\4 \\u043A\\u0443\\u0440\\u0441\\\\\\u041F\\u0440\\u043E\\u043C\\u041F\\u0440\\u043E\\u0433\\\\palette\\\\src\\\\componets\\\\pages\\\\ContactUs.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport checkEmail from '../../utils/form';\nimport Title from '../particles/Title';\nimport '../../assets/styles/css/pages/contact-us.css';\nimport Feedback from '../particles/Feedback';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ContactUs() {\n  _s();\n\n  const [formActive, setFormActive] = useState(true);\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [isActive, setIsActive] = useState(false);\n  const [pending, setPending] = useState(false);\n\n  function validate(email, message) {\n    // Form validation\n    const emailValidated = checkEmail(email.trim());\n    const messageValidated = message.trim();\n    return Boolean(emailValidated && messageValidated);\n  }\n\n  function sendMessage(event) {\n    event.preventDefault();\n\n    if (validate(email, message) && !pending) {\n      sendFeedback();\n    }\n  }\n\n  function clearForm() {\n    setEmail('');\n    setMessage('');\n  }\n\n  function sendFeedback() {\n    setPending(true);\n    const url = `${process.env.REACT_APP_SERVER_DATA}/feedback/create`;\n    const data = {\n      email,\n      message\n    };\n    axios.post(url, data).catch(err => console.error(err)).finally(() => {\n      setFormActive(false);\n      clearForm();\n      setPending(false);\n    });\n  }\n\n  useEffect(() => {\n    const result = validate(email, message);\n    setIsActive(result);\n  }, [email, message]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: formActive ? /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"contact-us-page\",\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        text: \"Contact us\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"preview\",\n        children: \"Feel free to ask some questions or the possibility of cooperation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"contact-us-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: event => setEmail(event.target.value),\n          value: email,\n          name: \"email\",\n          type: \"email\",\n          placeholder: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          onChange: event => setMessage(event.target.value),\n          value: message,\n          name: \"email\",\n          placeholder: \"Your awesome message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: sendMessage,\n          className: isActive && !pending ? 'active' : '',\n          children: \"Send your message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(Feedback, {\n      callback: () => setFormActive(true),\n      message: \"Fell free to stay one more question and we will answer you as soon as possible\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n}\n\n_s(ContactUs, \"zWzUEfGivEpwSbFE+UIouv5dJQA=\");\n\n_c = ContactUs;\nexport default ContactUs;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContactUs\");","map":{"version":3,"names":["useState","useEffect","axios","checkEmail","Title","Feedback","ContactUs","formActive","setFormActive","email","setEmail","message","setMessage","isActive","setIsActive","pending","setPending","validate","emailValidated","trim","messageValidated","Boolean","sendMessage","event","preventDefault","sendFeedback","clearForm","url","process","env","REACT_APP_SERVER_DATA","data","post","catch","err","console","error","finally","result","target","value"],"sources":["D:/Study/БрГУ/4 курс/ПромПрог/palette/src/componets/pages/ContactUs.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nimport checkEmail from '../../utils/form'\nimport Title from '../particles/Title'\n\nimport '../../assets/styles/css/pages/contact-us.css'\nimport Feedback from '../particles/Feedback'\n\nfunction ContactUs() {\n  const [formActive, setFormActive] = useState(true)\n  const [email, setEmail] = useState('')\n  const [message, setMessage] = useState('')\n  const [isActive, setIsActive] = useState(false)\n  const [pending, setPending] = useState(false)\n\n  function validate(email, message) {\n    // Form validation\n    const emailValidated = checkEmail(email.trim())\n    const messageValidated = message.trim()\n\n    return Boolean(emailValidated && messageValidated)\n  }\n\n  function sendMessage(event) {\n    event.preventDefault()\n\n    if (validate(email, message) && !pending) {\n      sendFeedback()\n    }\n  }\n\n  function clearForm() {\n    setEmail('')\n    setMessage('')\n  }\n\n  function sendFeedback() {\n    setPending(true)\n\n    const url = `${process.env.REACT_APP_SERVER_DATA}/feedback/create`\n\n    const data = { email, message }\n    \n    axios.post(url, data)\n      .catch(err => console.error(err))\n      .finally(() => {\n        setFormActive(false)\n        clearForm()\n        setPending(false)\n      })\n  }\n\n  useEffect(() => {\n    const result = validate(email, message)\n    setIsActive(result)\n  }, [email, message])\n\n  return (\n    <>\n      {\n        formActive ? (\n          <main className='contact-us-page'>\n            <Title text='Contact us' />\n            \n            <span className='preview'>\n              Feel free to ask some questions or the possibility of cooperation\n            </span>\n\n            <form className='contact-us-form'>\n              <input\n                onChange={event => setEmail(event.target.value)} \n                value={email} \n                name='email' \n                type=\"email\" \n                placeholder='Email' />\n\n              <textarea \n                onChange={event => setMessage(event.target.value)} \n                value={message} \n                name='email'  \n                placeholder='Your awesome message'></textarea>\n              \n              <button \n                onClick={sendMessage}\n                className={isActive && !pending ? 'active' : ''}>\n                  Send your message\n                </button>\n            </form>\n          </main>\n        ) : (\n          <Feedback \n            callback={() => setFormActive(true)}\n            message='Fell free to stay one more question and we will answer you as soon as possible'/>\n        )\n      }\n    </>\n  )\n}\n\nexport default ContactUs\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}