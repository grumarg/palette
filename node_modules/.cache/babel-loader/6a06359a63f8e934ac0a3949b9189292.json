{"ast":null,"code":"var _jsxFileName = \"D:\\\\Study\\\\\\u0411\\u0440\\u0413\\u0423\\\\4 \\u043A\\u0443\\u0440\\u0441\\\\\\u041F\\u0440\\u043E\\u043C\\u041F\\u0440\\u043E\\u0433\\\\palette\\\\src\\\\componets\\\\pages\\\\palletes\\\\Create.js\",\n    _s = $RefreshSig$();\n\nimport Title from '../../particles/Title';\nimport tagsColors from '../../../data/palette';\nimport '../../../assets/styles/css/pages/pallets/create-page.css';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultPallete = {\n  colors: ['#C3D8F7', '#92BBF7', '#3E87F4', '#0060F7', '#0448D3'],\n  tags: []\n};\n\nfunction PalleteCreate() {\n  _s();\n\n  const navigate = useNavigate();\n  const [pallete, setPallete] = useState(defaultPallete);\n  const [tagString, setTagString] = useState('');\n  const [defaultColors, setDefaultColors] = useState(tagsColors);\n\n  function changeColor(event, i) {\n    const color = event.target.value;\n    const {\n      colors\n    } = pallete;\n    colors[i] = color;\n    setPallete({ ...pallete,\n      colors\n    });\n  }\n\n  function matchTag(text) {\n    const tags = text.match(/(\\w|[\\u0400-\\u04FF])+/gi) || [];\n    setPallete({ ...pallete,\n      tags\n    });\n  }\n\n  function changeTags(event) {\n    const text = event.target.value;\n    setTagString(text);\n    matchTag(text);\n  }\n\n  function addTag(tag) {\n    const str = `${tagString} ${tag} `;\n    setTagString(str);\n    const colors = defaultColors.filter(color => tag !== color);\n    setDefaultColors(colors);\n    matchTag(str);\n  }\n\n  function createPalette() {\n    const url = `${process.env.REACT_APP_SERVER_DATA}/palette/create`;\n    axios.post(url, pallete).then(() => navigate('/')).catch(err => console.error(err));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"create-pallet\",\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      text: \"Create palette\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pallets\",\n      children: pallete.colors.map((color, i) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: color\n          },\n          className: \"pallete\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"color\",\n            children: color\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: event => changeColor(event, i),\n            type: \"color\",\n            value: color\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 18\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tags-area\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: tagString,\n        onChange: e => changeTags(e),\n        type: \"text\",\n        placeholder: \"Set some tags to describe the palette\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"tags\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"selected\",\n          children: [\"Selected tags: \", pallete.tags.length === 0 ? 'none' : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), pallete.tags.map((tag, i) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"tag\",\n            children: tag\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 22\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"tags-selecter\",\n        children: defaultColors.map((color, i) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => addTag(color),\n            className: \"tag\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                backgroundColor: color\n              },\n              className: \"circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 19\n            }, this), color]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 22\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: createPalette,\n      className: \"create\",\n      children: \"Create palette\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PalleteCreate, \"v7XEpivBp34Ox/VVy0lWNMPmdks=\", false, function () {\n  return [useNavigate];\n});\n\n_c = PalleteCreate;\nexport default PalleteCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"PalleteCreate\");","map":{"version":3,"names":["Title","tagsColors","useState","axios","useNavigate","defaultPallete","colors","tags","PalleteCreate","navigate","pallete","setPallete","tagString","setTagString","defaultColors","setDefaultColors","changeColor","event","i","color","target","value","matchTag","text","match","changeTags","addTag","tag","str","filter","createPalette","url","process","env","REACT_APP_SERVER_DATA","post","then","catch","err","console","error","map","backgroundColor","e","length"],"sources":["D:/Study/БрГУ/4 курс/ПромПрог/palette/src/componets/pages/palletes/Create.js"],"sourcesContent":["import Title from '../../particles/Title'\nimport tagsColors from '../../../data/palette'\n\nimport '../../../assets/styles/css/pages/pallets/create-page.css'\nimport { useState } from 'react'\nimport axios from 'axios'\nimport { useNavigate } from 'react-router-dom'\n\nconst defaultPallete = {\n  colors: ['#C3D8F7', '#92BBF7', '#3E87F4', '#0060F7', '#0448D3'],\n  tags: []\n}\n\nfunction PalleteCreate() {\n  const navigate = useNavigate()\n  const [pallete, setPallete] = useState(defaultPallete)\n  const [tagString, setTagString] = useState('')\n  const [defaultColors, setDefaultColors] = useState(tagsColors)\n  \n  function changeColor(event, i) {\n    const color = event.target.value\n\n    const { colors } = pallete\n\n    colors[i] = color\n    \n    setPallete({ ...pallete, colors })\n  }\n\n  function matchTag(text) {\n    const tags = text.match(/(\\w|[\\u0400-\\u04FF])+/gi) || []\n\n    setPallete({ ...pallete, tags })\n  }\n\n  function changeTags(event) {\n    const text = event.target.value\n    setTagString(text)\n\n    matchTag(text)\n  }\n\n  function addTag(tag) {\n    const str = `${tagString} ${tag} `\n    setTagString(str)\n\n    const colors = defaultColors.filter(color => tag !== color)\n    setDefaultColors(colors)\n\n    matchTag(str)\n  }\n\n  function createPalette() {\n    const url = `${process.env.REACT_APP_SERVER_DATA}/palette/create`\n        \n    axios.post(url, pallete)\n      .then(() => navigate('/'))\n      .catch(err => console.error(err))\n  }\n\n  return (\n    <main className=\"create-pallet\">\n      <Title text=\"Create palette\" />\n\n      <div className=\"pallets\">\n        { pallete.colors.map((color, i) => {\n          return <div \n            key={i}\n            style={{ backgroundColor: color }} \n            className='pallete'>\n            <span className='color'>{ color }</span>\n            \n            <input \n              onChange={(event) => changeColor(event, i)}\n              type=\"color\" \n              value={color} />\n          </div>\n        }) }\n      </div>\n\n      <div className='tags-area'>\n        <input \n          value={tagString}\n          onChange={e => changeTags(e)}\n          type=\"text\" \n          placeholder='Set some tags to describe the palette' />\n\n        <ul className='tags'>\n          <span className='selected'>Selected tags: { pallete.tags.length === 0 ? 'none' : '' }</span>\n          { \n            pallete.tags.map((tag, i) => {\n              return <li className='tag' key={i}>{tag}</li>\n            })\n          }\n        </ul>\n\n        <ul className='tags-selecter'>\n          { \n            defaultColors.map((color, i) => {\n              return <li \n                onClick={() => addTag(color)}\n                className='tag' \n                key={i}>\n                  <div \n                    style={{ backgroundColor: color }} \n                    className='circle'></div>\n                  {color}\n                </li>\n            })\n          }\n        </ul>\n      </div>\n\n      <button onClick={createPalette} className='create'>Create palette</button>\n\n    </main>    \n  )\n}\n\nexport default PalleteCreate\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}